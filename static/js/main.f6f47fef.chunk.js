(this["webpackJsonpdoc-mgt-app"]=this["webpackJsonpdoc-mgt-app"]||[]).push([[0],{44:function(e){e.exports=JSON.parse('{"Materials":{"Air-Conditioning and Mechanical Ventilation (ACMV)":{"Chilled Water Pipes":{"Catalogue":"PDF","Brand":"String","Country of make":"String","Material":"String","Certification standard":"String"},"Refrigerant Pipes":{"Catalogue":"PDF","Brand":"String","Country of make":"String","Material":"String","Certification standard":"String"},"Ducting":{"Catalogue":"PDF","Brand":"String","Country of make":"String","Material":"String","Certification standard":"String"},"Insulation":{"Catalogue":"PDF","Brand":"String","Country of make":"String","Material":"String","Certification standard":"String"},"Diffusers":{"Catalogue":"PDF","Brand":"String","Country of make":"String","Material":"String","Certification standard":"String"},"Dampers":{"Catalogue":"PDF","Brand":"String","Country of make":"String","Material":"String","Certification standard":"String"},"Fans":{"Catalogue":"PDF","Brand":"String","Country of make":"String","Certification standard":"String"},"AHU":{"Catalogue":"PDF","Brand":"String","Country of make":"String","Certification standard":"String"},"Chiller":{"Catalogue":"PDF","Brand":"String","Country of make":"String","Certification standard":"String"},"Cooling Tower":{"Catalogue":"PDF","Brand":"String","Country of make":"String","Certification standard":"String"},"Pump":{"Catalogue":"PDF","Brand":"String","Country of make":"String","Certification standard":"String"},"FCU":{"Catalogue":"PDF","Brand":"String","Country of make":"String","Certification standard":"String"}},"Fire Detection and Protection System":{"Hydrant Pipe":{"Catalogue":"PDF","Brand":"String","Country of make":"String","Material":"String","Certification standard":"String"},"Sprinkler Pipe":{"Catalogue":"PDF","Brand":"String","Country of make":"String","Material":"String","Certification standard":"String"},"Heat Detector":{"Catalogue":"PDF","Brand":"String","Country of make":"String","Certification standard":"String"},"Smoke Detector":{"Catalogue":"PDF","Brand":"String","Country of make":"String","Certification standard":"String"},"Flame Detector":{"Catalogue":"PDF","Brand":"String","Country of make":"String","Material":"String","Certification standard":"String"},"Sprinkler Bulb":{"Catalogue":"PDF","Brand":"String","Country of make":"String","Certification standard":"String"},"Pump":{"Catalogue":"PDF","Brand":"String","Country of make":"String","Certification standard":"String"},"Water tank":{"Catalogue":"PDF","Brand":"String","Country of make":"String","Material":"String","Certification standard":"String"}},"Plumbing and Sanitary System":{"External Pipe":{"Catalogue":"PDF","Brand":"String","Country of make":"String","Material":"String","Certification standard":"String"},"Internal Pipe":{"Catalogue":"PDF","Brand":"String","Country of make":"String","Material":"String","Certification standard":"String"},"Pump":{"Catalogue":"PDF","Brand":"String","Country of make":"String","Certification standard":"String"},"Water Tank":{"Catalogue":"PDF","Brand":"String","Country of make":"String","Material":"String","Certification standard":"String"}},"Fuel Storage and Distribution System":{"External Pipe":{"Catalogue":"PDF","Brand":"String","Country of make":"String","Material":"String","Certification standard":"String"},"Internal Pipe":{"Catalogue":"PDF","Brand":"String","Country of make":"String","Material":"String","Certification standard":"String"},"Pump":{"Catalogue":"PDF","Brand":"String","Country of make":"String","Certification standard":"String"},"Fuel Tank":{"Catalogue":"PDF","Brand":"String","Country of make":"String","Material":"String","Certification standard":"String"}},"Low Voltage System":{"External Cable":{"Catalogue":"PDF","Brand":"String","Country of make":"String","Certification standard":"String"},"Internal Cable":{"Catalogue":"PDF","Brand":"String","Country of make":"String","Certification standard":"String"},"Switch Gears":{"Catalogue":"PDF","Brand":"String","Country of make":"String","Certification standard":"String"},"Switch Boards":{"Catalogue":"PDF","Brand":"String","Country of make":"String","Certification standard":"String"}},"High Voltage System":{"External Cable":{"Catalogue":"PDF","Brand":"String","Country of make":"String","Certification standard":"String"},"Internal Cable":{"Catalogue":"PDF","Brand":"String","Country of make":"String","Certification standard":"String"},"Switch Gears":{"Catalogue":"PDF","Brand":"String","Country of make":"String","Certification standard":"String"},"Switch Boards":{"Catalogue":"PDF","Brand":"String","Country of make":"String","Certification standard":"String"}}},"Design":{"Air-Conditioning and Mechanical Ventilation (ACMV)":{"Chilled Water Distribution Design":{"Drawing":"PDF"},"Air Distribution Design":{"Drawing":"PDF"},"Chilled Water Distribution Schematic":{"Drawing":"PDF"},"Air Distribution Schematic":{"Drawing":"PDF"}},"Fire Detection and Protection System":{"Fire Detection Design":{"Drawing":"PDF"},"Fire Sprinkler Design":{"Drawing":"PDF"},"Fire Detection Schematic":{"Drawing":"PDF"}},"Plumbing and Sanitary System":{"Water Distribution Design":{"Drawing":"PDF"},"Water Distribution Schematic":{"Drawing":"PDF"},"Sanitary Distribution Design":{"Drawing":"PDF"},"Sanitary Distribution Schematic":{"Drawing":"PDF"}},"Fuel Storage and Distribution System":{"Fuel Distribution Design":{"Drawing":"PDF"},"Fuel Distribution Schematic":{"Drawing":"PDF"}},"Low Voltage System":{"LT Distribution Design":{"Drawing":"PDF"},"LT Distribution Schematic":{"Drawing":"PDF"}},"High Voltage System":{"LT Distribution Design":{"Drawing":"PDF"},"LT Distribution Schematic":{"Drawing":"PDF"}}},"T&C":{"Air-Conditioning and Mechanical Ventilation (ACMV)":{"Chilled Water Pipe Pressure Test":{"Drawing":"PDF","Test Pressure":"String","Calibration Certification of Pressure Gauge":"PDF","Test Date":"String","Test Start Time":"String","Photo of Pressure gauge at the start":"Image","Test End Time":"String","Photo of Pressure gauge at the end":"Image"}},"Fire Detection and Protection System":{},"Plumbing and Sanitary System":{},"Fuel Storage and Distribution System":{},"Low Voltage System":{},"High Voltage System":{}}}')},70:function(e,t,n){e.exports=n(79)},79:function(e,t,n){"use strict";n.r(t);var a,r,i=n(59),o=n(0),l=n.n(o),c=n(8),u=n.n(c),s=n(61),d=n(13),m=n(29),f=n(30),g=n(33),p=n(123),S=n(4),h=n(16);!function(e){e.None="None",e.Filled="Filled",e.Approved="Approved",e.Rejected="Rejected"}(a||(a={})),function(e){e.String="String",e.Pdf="PDF",e.Image="Image"}(r||(r={}));var D=function e(t,n,r,i){var o=this;Object(d.a)(this,e),this.name=void 0,this.fields=void 0,this.parent=void 0,this.documentState=void 0,this.setDocumentState=function(e){o.documentState=e},this.getDocumentState=function(){return o.documentState===a.None&&o.isFilled()?a.Filled:o.documentState},this.delete=function(){o.parent.removeChild(o)},this.isFilled=function(){return Object.values(o.fields).every((function(e){return 0!==e.value.length}))},this.name=t,this.fields=i,this.parent=n,this.documentState=r,this.parent.addChild(this)};function C(e){switch(e){case r.Image:return{type:r.Image,value:"",name:""};case r.Pdf:return{type:r.Pdf,value:"",name:""};case r.String:return{type:r.String,value:""}}}function v(e){switch(e){case a.Approved:return"green";case a.Rejected:return"red";case a.Filled:return"gray";case a.None:return"black"}}function y(e,t){return E(e,(function(e){return e.getDocumentState()===t}))}function E(e,t){var n=0;return e.children.forEach((function(e){e instanceof b?n+=E(e,t):t(e)&&(n+=1)})),n}var F,b=function e(t){var n=this;Object(d.a)(this,e),this.name=void 0,this.parent=void 0,this.children=void 0,this.isOpen=void 0,this.users=void 0,this.folder=function(t){return n.children.filter((function(t){return t instanceof e})).find((function(e){return e.name===t}))},this.delete=function(){null!==n.parent&&n.parent.removeChild(n)},this.toggleOpen=function(e){n.isOpen=void 0===e?!n.isOpen:e},this.removeChild=function(e){e.parent=null,n.children=n.children.filter((function(t){return t!==e}))},this.addChild=function(e){e.parent=n,n.children.push(e)},this.getPath=function(){return null===n.parent?[n]:n.parent.getPath().concat([n])},this.getDepth=function(){return null===n.parent?0:n.parent.getDepth()+1},this.getApproved=function(){return n.children.every((function(t){return t instanceof e?t.getApproved():t.getDocumentState()===a.Approved}))},this.getUsers=function(){return null===n.parent?n.users:n.parent.getUsers()},this.addUser=function(e){n.users.add(e)},this.removeUser=function(e){n.users.delete(e)},this.name=t,this.parent=null,this.children=[],this.isOpen=!0,this.users=new Set};!function(e){e[e.Owner=0]="Owner",e[e.Contractor=1]="Contractor"}(F||(F={}));var P=function e(t,n){Object(d.a)(this,e),this.name=void 0,this.userType=void 0,this.name=t,this.userType=n},w=n(44);function k(e){return e instanceof b?{type:"folder",name:(t=e).name,users:Array.from(t.getUsers()).map((function(e){return e.name})),data:t.children.map(k)}:function(e){var t=e.getDocumentState();return{type:"document",name:e.name,status:t===a.Filled?a.None:t,fields:e.fields}}(e);var t}function j(e,t){switch(t.type){case"folder":var n=O(t);return e.addChild(n),n;case"document":default:return function(e,t){var n=t.name,a=t.status,r=t.fields;return new D(n,e,a,r)}(e,t)}}function O(e){var t=e.name,n=new b(t);return e.users.map((function(e){return N[e]})).forEach(n.addUser),e.data.forEach((function(e){return j(n,e)})),n}function x(e){var t=localStorage.getItem("data");if(null!==t)return O(JSON.parse(t));var n=new b(e),a=U("Project 1",w,0);return n.addChild(a),n}function U(e,t,n){var r=new b(e);return r.toggleOpen(!1),Object.keys(t).forEach((function(e){var i=t[e];if(2===n)return new D(e,r,a.None,function(e){var t={};return Object.entries(e).forEach((function(e){var n=Object(h.a)(e,2),a=n[0],r=n[1];t[a]=C(r)})),t}(i));r.addChild(U(e,i,n+1)),r.toggleOpen(!0)})),r}var N={BI_1:new P("BI_1",F.Owner),Contractor_1:new P("Contractor_1",F.Contractor),Contractor_2:new P("Contractor_2",F.Contractor)},B=U("Template",w,0);var R,T=n(20),A=n(108),M=n(120),V=n(124),I=n(107),L=n(109),G=n(122),H=n(111),W=n(112),_=n(104);!function(e){e[e.ENTER=13]="ENTER"}(R||(R={}));var J=n(110);var X=Object(S.a)((function(e){return Object(p.a)({container:{width:"100%",height:"100%",overflowX:"hidden",display:"flex",flexDirection:"row"},folderButton:{flexGrow:1,justifyContent:"left",padding:"6px 8px",display:"flex",flexDirection:"row"},text:{flexGrow:1,paddingLeft:"4px",lineHeight:1.5,overflowX:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",textAlign:"left",textTransform:"none"},textInput:{padding:0},optionIcon:{height:"36px",width:"36px"}})}))((function(e){var t=Object(o.useState)(!1),n=Object(h.a)(t,2),a=n[0],r=n[1],i=function(t){r(!1),void 0!==e.onRename&&e.onRename(t.currentTarget.value)},c=l.a.createElement(l.a.Fragment,null,e.icon,a?l.a.createElement(_.a,{className:e.classes.text,inputProps:{className:e.classes.textInput},autoFocus:!0,type:"text",defaultValue:e.label,onBlur:i,onKeyDown:function(e){e.keyCode===R.ENTER&&i(e)}}):l.a.createElement(I.a,{className:e.classes.text},e.label)),u={key:0,className:e.classes.folderButton,children:[c]},s=!e.onClick&&!e.onRename||a?l.a.createElement("div",u):l.a.createElement(A.a,Object.assign({onClick:e.onClick?e.onClick:function(){return r(!0)}},u));return l.a.createElement("div",{className:e.classes.container},s,e.onClick&&e.onRename?l.a.createElement(L.a,{key:1,className:e.classes.optionIcon,onClick:function(){return r(!0)}},l.a.createElement(J.a,null)):null,e.onDelete?l.a.createElement(L.a,{key:2,className:e.classes.optionIcon,onClick:e.onDelete},l.a.createElement(H.a,null)):null)}));var Y=function(e){return l.a.createElement(X,{icon:l.a.createElement(W.a,{style:{color:v(e.data.getDocumentState())}}),label:e.label||e.data.name,onClick:e.onClick,onRename:e.onRename,onDelete:e.onDelete})},z=n(113),K=n(114);var q=function(e){if(null===e.data)return null;var t,n=(t=e.data).getApproved()?"green":y(t,a.Rejected)>0?"red":0===y(t,a.None)?"gray":"black",r=e.data.isOpen;return l.a.createElement(X,{icon:r?l.a.createElement(z.a,{style:{color:n}}):l.a.createElement(K.a,{style:{color:n}}),label:e.data.name,onClick:e.onClick,onRename:e.onRename,onDelete:e.onDelete})};function Q(e,t,n){return l.a.createElement(G.a,{title:e},l.a.createElement(I.a,{style:{color:v(n)}},y(t,n)))}var Z=Object(S.a)((function(e){return Object(p.a)({headerContainer:{display:"flex",flexDirection:"row"},parentLabel:{flexGrow:0},labelSeperator:{lineHeight:"36px"},legendContainer:{lineHeight:"36px",flexShrink:0,display:"ruby",alignContent:"center",padding:"0 8px"},icon:{height:"36px",width:"36px"}})}))((function(e){return l.a.createElement("div",{className:e.classes.headerContainer},null===e.data.parent?null:l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:e.classes.parentLabel},l.a.createElement(q,{data:e.data.parent,onClick:function(){return e.onSelect(e.data.parent)}})),l.a.createElement(I.a,{className:e.classes.labelSeperator},">>")),function(e){if(e.data instanceof D)return l.a.createElement(Y,{data:e.data,onRename:function(t){return e.onRename(e.data,t)}});if(e.data instanceof b)return l.a.createElement(q,{data:e.data,onRename:function(t){return e.onRename(e.data,t)}})}(e),e.data instanceof b?function(e,t){var n=function(e){return E(e,(function(){return!0}))}(t);return l.a.createElement("div",{className:e.classes.legendContainer},Q("Approved",t,a.Approved)," + ",Q("Rejected",t,a.Rejected)," + ",Q("Filled",t,a.Filled)," + ",Q("Pending",t,a.None)," = ",l.a.createElement(G.a,{title:"Total"},l.a.createElement(I.a,{style:{color:"black"}},n)))}(e,e.data):null,e.data instanceof b&&2===e.data.getDepth()?null:l.a.createElement(L.a,{className:e.classes.icon,onClick:function(){return e.onDelete(e.data)}},l.a.createElement(H.a,null)))}));var $=Object(S.a)((function(e){return Object(p.a)({input:{width:"100%"},fieldValueContainer:{width:"100%",height:"24px",display:"flex",flexDirection:"row"},fieldValueLabel:{flexGrow:1}})}))((function(e){return l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement(I.a,null,e.fieldName)),l.a.createElement("td",null,function(e){function t(t){e.onValueUpdate(t.value),e.onNameUpdate(t.name)}switch(e.fieldData.type){case r.Image:case r.Pdf:return l.a.createElement("div",{className:e.classes.fieldValueContainer},0===e.fieldData.value.length?l.a.createElement("div",{className:e.classes.fieldValueLabel}):l.a.createElement("a",{className:e.classes.fieldValueLabel,href:e.fieldData.value,download:e.fieldData.name},l.a.createElement(I.a,null,e.fieldData.name)),l.a.createElement(A.a,{variant:"outlined"},l.a.createElement("label",null,l.a.createElement(I.a,null,"Upload"),l.a.createElement("input",{type:"file",style:{display:"none"},accept:e.fieldData.type===r.Pdf?".pdf":"image/*",onChange:function(e){return(n=e.target.files[0],new Promise((function(e,t){var a=new FileReader;a.onload=function(t){var a=t.target.result;e({name:n.name,value:a})},a.readAsDataURL(n)}))).then(t);var n}}))));default:return l.a.createElement(_.a,{className:e.classes.input,value:e.fieldData.value||"",onChange:function(t){return e.onValueUpdate(t.currentTarget.value)}})}}(e)))})),ee=function(e){function t(){var e,n;Object(d.a)(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(n=Object(m.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(i)))).setDocumentFieldValue=function(e,t){e.value=t,n.props.onUpdate()},n.setDocumentFieldName=function(e,t){e.type!==r.Pdf&&e.type!==r.Image||(e.name=t,n.props.onUpdate())},n.setDocumentState=function(e){n.props.data.setDocumentState(e),n.props.onUpdate()},n}return Object(g.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){var e=this,t=this.props.data.getDocumentState(),n=t!==a.None&&t!==a.Filled;return l.a.createElement("div",{className:this.props.classes.container},l.a.createElement(Z,{data:this.props.data,onDelete:this.props.onDelete,onSelect:this.props.onSelect,onRename:this.props.onRename}),n?null:l.a.createElement(A.a,{onClick:function(){return e.setDocumentState(a.Approved)}},"Approve"),n?null:l.a.createElement(A.a,{onClick:function(){return e.setDocumentState(a.Rejected)}},"Reject"),n?l.a.createElement(A.a,{onClick:function(){return e.setDocumentState(a.None)}},"Reset"):null,l.a.createElement("div",{className:this.props.classes.tableContainer},l.a.createElement(M.a,{className:this.props.classes.table},l.a.createElement("colgroup",null,l.a.createElement("col",{width:"300px"}),l.a.createElement("col",{width:"100%"})),l.a.createElement(V.a,null,Object.entries(this.props.data.fields).map((function(t,n){var a=Object(h.a)(t,2),r=a[0],i=a[1];return l.a.createElement($,{key:n,fieldName:r,fieldData:i,onValueUpdate:function(t){return e.setDocumentFieldValue(i,t)},onNameUpdate:function(t){return e.setDocumentFieldName(i,t)}})}))))))}}]),t}(l.a.Component),te=Object(S.a)((function(e){return Object(p.a)({container:{width:"100%",height:"100%",overflow:"hidden"},tableContainer:{height:"100%",overflowY:"scroll",scrollbarWidth:"thin"},table:{width:"100%",tableLayout:"fixed",border:"solid transparent 16px"}})}))(ee),ne=n(60),ae=n(121),re=n(116);var ie=function(e){return l.a.createElement("div",{style:{paddingLeft:"".concat(24*e.depth,"px")}},e.children)};var oe=Object(S.a)((function(e){return Object(p.a)({headerContainer:{display:"flex",flexDirection:"row"},parentLabel:{flexGrow:0},labelSeperator:{lineHeight:"36px"}})}))((function(e){return l.a.createElement("div",null,l.a.createElement(Z,{data:e.data,onDelete:e.onDeleteFolder,onSelect:e.onSelect,onRename:e.onRenameFolder}),e.data.children.map((function(t,n){return t instanceof D?l.a.createElement(ie,{depth:1,key:n},l.a.createElement(Y,{data:t,onClick:function(){return e.onSelect(t)},onRename:function(n){return e.onRenameDocument(t,n)},onDelete:function(){return e.onDeleteDocument(t)}})):l.a.createElement(ie,{depth:1,key:n},l.a.createElement(q,{data:t,onClick:function(){return e.onSelect(t)},onRename:0!==e.data.getDepth()?void 0:function(n){return e.onRenameFolder(t,n)},onDelete:1===e.data.getDepth()?void 0:function(){return e.onDeleteFolder(t)}}))})),l.a.createElement(ie,{depth:1},function(e){var t=l.a.useState(null),n=Object(h.a)(t,2),a=n[0],r=n[1],i="New Document",o=[],c=function(t){return e.onCreateFolder(e.data,t)};switch(e.data.getDepth()){case 0:return l.a.createElement(A.a,{onClick:function(){return e.onCreateProject("New Project")}},l.a.createElement(re.a,null),"New Project");case 1:return null;case 2:i="New Submission Document",o=["Air-Conditioning and Mechanical Ventilation (ACMV)","Fire Detection and Protection System","Plumbing and Sanitary System","Fuel Storage and Distribution System","Low Voltage System","High Voltage System"].filter((function(t){return void 0===e.data.children.find((function(e){return e.name===t}))}));break;case 3:var u={};(s=e.data.parent.name,d=e.data.name,B.folder(s).folder(d).children.filter((function(e){return e instanceof D}))).forEach((function(e){return u[e.name]=e})),o=Object.keys(u),c=function(t){return e.onCreateDocument(e.data,u[t])}}var s,d;if(0===o.length)return null;var m=function(){return r(null)},f=l.a.createElement(ne.a,{anchorEl:a,keepMounted:!0,open:Boolean(a),onClose:m},o.map((function(e,t){return l.a.createElement(ae.a,{key:t,onClick:function(){c(e),m()}},e)})));return l.a.createElement(l.a.Fragment,null,l.a.createElement(A.a,{onClick:function(e){return r(e.currentTarget)},disabled:0===o.length},l.a.createElement(re.a,null),i),f)}(e)),function(e){var t=l.a.useState(null),n=Object(h.a)(t,2),a=n[0],r=n[1];if(1!==e.data.getDepth())return null;var i=Object.values(N).filter((function(t){return!e.data.getUsers().has(t)})),o=function(){return r(null)},c=l.a.createElement(ne.a,{anchorEl:a,keepMounted:!0,open:Boolean(a),onClose:o},i.map((function(t,n){return l.a.createElement(ae.a,{key:n,onClick:function(){e.onAddUser(t),o()}},t.name)})));return l.a.createElement(l.a.Fragment,null,l.a.createElement(I.a,null,"Users"),l.a.createElement(ie,{depth:1},l.a.createElement(A.a,{onClick:function(e){return r(e.currentTarget)},disabled:0===i.length},l.a.createElement(re.a,null),"Add User")),Array.from(e.data.getUsers()).map((function(t){return l.a.createElement(ie,{depth:1},l.a.createElement(I.a,null,t.name),l.a.createElement(L.a,{onClick:function(){return e.onRemoveUser(t)}},l.a.createElement(H.a,null)))})),c)}(e))})),le=function(e){function t(){var e,n;Object(d.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(m.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).onFolderClick=function(){n.props.data.toggleOpen(),n.forceUpdate(),n.props.onSelect(n.props.data)},n}return Object(g.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){var e=this,t=this.props.data.getDepth(),n=this.props.data.isOpen;return l.a.createElement(l.a.Fragment,null,l.a.createElement(ie,{depth:t},l.a.createElement(q,{data:this.props.data,onClick:this.onFolderClick})),n?this.props.data.children.map((function(n,a){return n instanceof b?l.a.createElement(le,{key:a,data:n,user:e.props.user,onSelect:e.props.onSelect}):l.a.createElement(ie,{key:a,depth:t+1},l.a.createElement(Y,{data:n,onClick:function(){return e.props.onSelect(n)}}))})):null)}}]),t}(l.a.Component);var ce=Object(S.a)((function(e){return Object(p.a)({container:{width:"100%",height:"100%",display:"flex",flexDirection:"row"},foldertree:{width:"300px",height:"100%",flexGrow:0,overflowY:"scroll",scrollbarWidth:"thin"},body:{width:0,flexGrow:1}})}))((function(e){var t=null;return e.selected instanceof b?t=l.a.createElement(oe,{data:e.selected,onSelect:e.onSelect,onCreateProject:e.createProject,onCreateFolder:e.addFolderToFolder,onCreateDocument:e.addDocumentToFolder,onRenameDocument:e.rename,onDeleteDocument:e.deleteDocument,onDeleteFolder:e.deleteFolder,onRenameFolder:e.rename,onAddUser:e.addUser,onRemoveUser:e.removeUser}):e.selected instanceof D&&(t=l.a.createElement(te,{data:e.selected,onDelete:e.deleteDocument,onUpdate:e.onDocumentUpdate,onSelect:e.onSelect,onRename:e.rename})),l.a.createElement("div",{className:e.classes.container},l.a.createElement("div",{className:e.classes.foldertree},l.a.createElement(le,{data:e.root,user:e.user,onSelect:e.onSelect})),l.a.createElement("div",{className:e.classes.body},t))})),ue=n(118),se=n(117),de=Object(S.a)((function(e){return Object(p.a)({container:{height:"100%",width:"100%",margin:"auto",display:"flex",flexDirection:"column",alignItems:"center",verticalAlign:"middle"},padDiv:{height:0,flexGrow:1},formContainer:{display:"flex",flexDirection:"column"},title:{textAlign:"center"}})}))((function(e){var t=Object(o.useState)(""),n=Object(h.a)(t,2),a=n[0],r=n[1],i=Object(o.useState)(""),c=Object(h.a)(i,2),u=c[0],s=c[1];return l.a.createElement("div",{className:e.classes.container},l.a.createElement("div",{className:e.classes.padDiv}),l.a.createElement("div",{className:e.classes.formContainer},l.a.createElement(I.a,{className:e.classes.title,variant:"h2"},"BI App"),l.a.createElement(ue.a,{label:"Username",margin:"normal",variant:"outlined",value:a,onChange:function(e){return r(e.currentTarget.value)}}),l.a.createElement(ue.a,{label:"Password",type:"password",autoComplete:"current-password",margin:"normal",variant:"outlined",value:u,onChange:function(e){return s(e.currentTarget.value)}}),l.a.createElement(se.a,{variant:"extended",size:"large",color:"primary",onClick:function(){return e.onLogin(a,u)}},"Login")),l.a.createElement("div",{style:{flexGrow:1}}))})),me=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(m.a)(this,Object(f.a)(t).call(this,e))).componentDidMount=function(){},n.doLogin=function(e,t){var a=N[e];return void 0!==a&&(n.setState({user:a,root:x(a.name)}),!0)},n.selectDocument=function(e){n.setState({selected:e},n.forceUpdate)},n.renameDocument=function(e,t){e.name=t,n.onDocumentUpdate()},n.createProject=function(e){var t=new b(e);t.addChild(new b("Materials")),t.addChild(new b("Design")),t.addChild(new b("T&C")),t.addUser(n.state.user),n.state.root.addChild(t),n.onDocumentUpdate()},n.addFolderToFolder=function(e,t){e.addChild(new b(t)),n.onDocumentUpdate()},n.addDocumentToFolder=function(e,t){!function(e,t){var n={};Object.entries(e.fields).forEach((function(e){var t=Object(h.a)(e,2),a=t[0],r=t[1];n[a]=C(r.type)})),new D(e.name,t,a.None,n)}(t,e),n.onDocumentUpdate()},n.deleteFolder=function(e){e.delete(),n.setState((function(t){return t.selected===e?{selected:null}:null}),n.onDocumentUpdate)},n.deleteDocument=function(e){e.delete(),n.setState((function(t){return t.selected===e?{selected:null}:null}),n.onDocumentUpdate)},n.addUser=function(e){n.state.root.getUsers().has(e)||(n.state.root.addUser(e),n.onDocumentUpdate())},n.removeUser=function(e){console.log(e),n.state.root.getUsers().has(e)&&(console.log(e),n.state.root.removeUser(e),console.log(n.state.root.getUsers()),n.onDocumentUpdate())},n.onDocumentUpdate=function(){!function(e){var t=JSON.stringify(k(e));localStorage.setItem("data",t)}(n.state.root),n.forceUpdate()},n.render=function(){return l.a.createElement("div",{className:n.props.classes.container},null===n.state.user?l.a.createElement(de,{onLogin:n.doLogin}):l.a.createElement(ce,{root:n.state.root,user:n.state.user,selected:n.state.selected,onSelect:n.selectDocument,rename:n.renameDocument,createProject:n.createProject,addFolderToFolder:n.addFolderToFolder,addDocumentToFolder:n.addDocumentToFolder,deleteFolder:n.deleteFolder,deleteDocument:n.deleteDocument,addUser:n.addUser,removeUser:n.removeUser,onDocumentUpdate:n.onDocumentUpdate}))},n.state={user:null,root:new b(""),selected:null},n}return Object(g.a)(t,e),t}(l.a.Component),fe=Object(S.a)((function(e){return Object(p.a)({container:{display:"flex",flexDirection:"row",height:"100vh"}})}))(me);Object(i.a)(),u.a.render(l.a.createElement(s.a,null,l.a.createElement(fe,null)),document.getElementById("root"))}},[[70,1,2]]]);
//# sourceMappingURL=main.f6f47fef.chunk.js.map