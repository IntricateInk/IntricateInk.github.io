(this["webpackJsonpdoc-mgt-app"]=this["webpackJsonpdoc-mgt-app"]||[]).push([[0],{44:function(e){e.exports=JSON.parse('{"Materials":{"Air-Conditioning and Mechanical Ventilation (ACMV)":{"Chilled Water Pipes":{"Catalogue":"PDF","Brand":"String","Country of make":"String","Material":"String","Certification standard":"String"},"Refrigerant Pipes":{"Catalogue":"PDF","Brand":"String","Country of make":"String","Material":"String","Certification standard":"String"},"Ducting":{"Catalogue":"PDF","Brand":"String","Country of make":"String","Material":"String","Certification standard":"String"},"Insulation":{"Catalogue":"PDF","Brand":"String","Country of make":"String","Material":"String","Certification standard":"String"},"Diffusers":{"Catalogue":"PDF","Brand":"String","Country of make":"String","Material":"String","Certification standard":"String"},"Dampers":{"Catalogue":"PDF","Brand":"String","Country of make":"String","Material":"String","Certification standard":"String"},"Fans":{"Catalogue":"PDF","Brand":"String","Country of make":"String","Certification standard":"String"},"AHU":{"Catalogue":"PDF","Brand":"String","Country of make":"String","Certification standard":"String"},"Chiller":{"Catalogue":"PDF","Brand":"String","Country of make":"String","Certification standard":"String"},"Cooling Tower":{"Catalogue":"PDF","Brand":"String","Country of make":"String","Certification standard":"String"},"Pump":{"Catalogue":"PDF","Brand":"String","Country of make":"String","Certification standard":"String"},"FCU":{"Catalogue":"PDF","Brand":"String","Country of make":"String","Certification standard":"String"}},"Fire Detection and Protection System":{"Hydrant Pipe":{"Catalogue":"PDF","Brand":"String","Country of make":"String","Material":"String","Certification standard":"String"},"Sprinkler Pipe":{"Catalogue":"PDF","Brand":"String","Country of make":"String","Material":"String","Certification standard":"String"},"Heat Detector":{"Catalogue":"PDF","Brand":"String","Country of make":"String","Certification standard":"String"},"Smoke Detector":{"Catalogue":"PDF","Brand":"String","Country of make":"String","Certification standard":"String"},"Flame Detector":{"Catalogue":"PDF","Brand":"String","Country of make":"String","Material":"String","Certification standard":"String"},"Sprinkler Bulb":{"Catalogue":"PDF","Brand":"String","Country of make":"String","Certification standard":"String"},"Pump":{"Catalogue":"PDF","Brand":"String","Country of make":"String","Certification standard":"String"},"Water tank":{"Catalogue":"PDF","Brand":"String","Country of make":"String","Material":"String","Certification standard":"String"}},"Plumbing and Sanitary System":{"External Pipe":{"Catalogue":"PDF","Brand":"String","Country of make":"String","Material":"String","Certification standard":"String"},"Internal Pipe":{"Catalogue":"PDF","Brand":"String","Country of make":"String","Material":"String","Certification standard":"String"},"Pump":{"Catalogue":"PDF","Brand":"String","Country of make":"String","Certification standard":"String"},"Water Tank":{"Catalogue":"PDF","Brand":"String","Country of make":"String","Material":"String","Certification standard":"String"}},"Fuel Storage and Distribution System":{"External Pipe":{"Catalogue":"PDF","Brand":"String","Country of make":"String","Material":"String","Certification standard":"String"},"Internal Pipe":{"Catalogue":"PDF","Brand":"String","Country of make":"String","Material":"String","Certification standard":"String"},"Pump":{"Catalogue":"PDF","Brand":"String","Country of make":"String","Certification standard":"String"},"Fuel Tank":{"Catalogue":"PDF","Brand":"String","Country of make":"String","Material":"String","Certification standard":"String"}},"Low Voltage System":{"External Cable":{"Catalogue":"PDF","Brand":"String","Country of make":"String","Certification standard":"String"},"Internal Cable":{"Catalogue":"PDF","Brand":"String","Country of make":"String","Certification standard":"String"},"Switch Gears":{"Catalogue":"PDF","Brand":"String","Country of make":"String","Certification standard":"String"},"Switch Boards":{"Catalogue":"PDF","Brand":"String","Country of make":"String","Certification standard":"String"}},"High Voltage System":{"External Cable":{"Catalogue":"PDF","Brand":"String","Country of make":"String","Certification standard":"String"},"Internal Cable":{"Catalogue":"PDF","Brand":"String","Country of make":"String","Certification standard":"String"},"Switch Gears":{"Catalogue":"PDF","Brand":"String","Country of make":"String","Certification standard":"String"},"Switch Boards":{"Catalogue":"PDF","Brand":"String","Country of make":"String","Certification standard":"String"}}},"Design":{"Air-Conditioning and Mechanical Ventilation (ACMV)":{"Chilled Water Distribution Design":{"Drawing":"PDF"},"Air Distribution Design":{"Drawing":"PDF"},"Chilled Water Distribution Schematic":{"Drawing":"PDF"},"Air Distribution Schematic":{"Drawing":"PDF"}},"Fire Detection and Protection System":{"Fire Detection Design":{"Drawing":"PDF"},"Fire Sprinkler Design":{"Drawing":"PDF"},"Fire Detection Schematic":{"Drawing":"PDF"}},"Plumbing and Sanitary System":{"Water Distribution Design":{"Drawing":"PDF"},"Water Distribution Schematic":{"Drawing":"PDF"},"Sanitary Distribution Design":{"Drawing":"PDF"},"Sanitary Distribution Schematic":{"Drawing":"PDF"}},"Fuel Storage and Distribution System":{"Fuel Distribution Design":{"Drawing":"PDF"},"Fuel Distribution Schematic":{"Drawing":"PDF"}},"Low Voltage System":{"LT Distribution Design":{"Drawing":"PDF"},"LT Distribution Schematic":{"Drawing":"PDF"}},"High Voltage System":{"LT Distribution Design":{"Drawing":"PDF"},"LT Distribution Schematic":{"Drawing":"PDF"}}},"T&C":{"Air-Conditioning and Mechanical Ventilation (ACMV)":{"Chilled Water Pipe Pressure Test":{"Drawing":"PDF","Test Pressure":"String","Calibration Certification of Pressure Gauge":"PDF","Test Date":"String","Test Start Time":"String","Photo of Pressure gauge at the start":"Image","Test End Time":"String","Photo of Pressure gauge at the end":"Image"}},"Fire Detection and Protection System":{},"Plumbing and Sanitary System":{},"Fuel Storage and Distribution System":{},"Low Voltage System":{},"High Voltage System":{}}}')},70:function(e,t,n){e.exports=n(79)},79:function(e,t,n){"use strict";n.r(t);var a,r,i=n(59),o=n(0),l=n.n(o),c=n(8),s=n.n(c),u=n(61),d=n(13),m=n(29),f=n(30),g=n(33),p=n(124),h=n(4),S=n(17);!function(e){e.None="None",e.Filled="Filled",e.Approved="Approved",e.Rejected="Rejected"}(a||(a={})),function(e){e.String="String",e.Pdf="PDF",e.Image="Image"}(r||(r={}));var D=function e(t,n,r,i){var o=this;Object(d.a)(this,e),this.name=void 0,this.fields=void 0,this.parent=void 0,this.documentState=void 0,this.setDocumentState=function(e){o.documentState=e},this.getDocumentState=function(){return o.documentState===a.None&&o.isFilled()?a.Filled:o.documentState},this.delete=function(){o.parent.removeChild(o)},this.isFilled=function(){return Object.values(o.fields).every((function(e){return 0!==e.value.length}))},this.name=t,this.fields=i,this.parent=n,this.documentState=r,this.parent.addChild(this)};function C(e){switch(e){case r.Image:return{type:r.Image,value:"",name:""};case r.Pdf:return{type:r.Pdf,value:"",name:""};case r.String:return{type:r.String,value:""}}}function v(e){switch(e){case a.Approved:return"green";case a.Rejected:return"red";case a.Filled:return"gray";case a.None:return"black"}}function y(e,t){return E(e,(function(e){return e.getDocumentState()===t}))}function E(e,t){var n=0;return e.children.forEach((function(e){e instanceof F?n+=E(e,t):t(e)&&(n+=1)})),n}var b,F=function e(t){var n=this;Object(d.a)(this,e),this.name=void 0,this.parent=void 0,this.children=void 0,this.isOpen=void 0,this.users=void 0,this.folder=function(t){return n.children.filter((function(t){return t instanceof e})).find((function(e){return e.name===t}))},this.delete=function(){null!==n.parent&&n.parent.removeChild(n)},this.toggleOpen=function(e){n.isOpen=void 0===e?!n.isOpen:e},this.removeChild=function(e){e.parent=null,n.children=n.children.filter((function(t){return t!==e}))},this.addChild=function(e){e.parent=n,n.children.push(e)},this.getPath=function(){return null===n.parent?[n]:n.parent.getPath().concat([n])},this.getDepth=function(){return null===n.parent?0:n.parent.getDepth()+1},this.getApproved=function(){return n.children.every((function(t){return t instanceof e?t.getApproved():t.getDocumentState()===a.Approved}))},this.getUsers=function(){return n.users},this.addUser=function(e){n.users.add(e)},this.removeUser=function(e){n.users.delete(e)},this.name=t,this.parent=null,this.children=[],this.isOpen=!0,this.users=new Set};!function(e){e[e.Owner=0]="Owner",e[e.Contractor=1]="Contractor"}(b||(b={}));var w=function e(t,n){Object(d.a)(this,e),this.name=void 0,this.userType=void 0,this.name=t,this.userType=n},P=n(44);function k(e){return e instanceof F?{type:"folder",name:(t=e).name,users:Array.from(t.getUsers()).map((function(e){return e.name})),data:t.children.map(k)}:function(e){var t=e.getDocumentState();return{type:"document",name:e.name,status:t===a.Filled?a.None:t,fields:e.fields}}(e);var t}function x(e,t){switch(t.type){case"folder":var n=j(t);return e.addChild(n),n;case"document":default:return function(e,t){var n=t.name,a=t.status,r=t.fields;return new D(n,e,a,r)}(e,t)}}function j(e){var t=e.name,n=new F(t);return e.users.map((function(e){return N[e]})).forEach(n.addUser),e.data.forEach((function(e){return x(n,e)})),n}function O(e,t,n){var r=new F(e);return r.toggleOpen(!1),Object.keys(t).forEach((function(e){var i=t[e];if(2===n)return new D(e,r,a.None,function(e){var t={};return Object.entries(e).forEach((function(e){var n=Object(S.a)(e,2),a=n[0],r=n[1];t[a]=C(r)})),t}(i));r.addChild(O(e,i,n+1)),r.toggleOpen(!0)})),r}var N={BI_1:new w("BI_1",b.Owner),Contractor_1:new w("Contractor_1",b.Contractor),Contractor_2:new w("Contractor_2",b.Contractor)},U=O("Template",P,0);var B,T=n(20),R=n(108),A=n(121),L=n(125),M=n(107),I=n(109),V=n(123),G=n(111),H=n(112),W=n(104);!function(e){e[e.ENTER=13]="ENTER"}(B||(B={}));var _=n(110);var J=Object(h.a)((function(e){return Object(p.a)({container:{width:"100%",height:"100%",overflowX:"hidden",display:"flex",flexDirection:"row"},folderButton:{flexGrow:1,justifyContent:"left",padding:"6px 8px",display:"flex",flexDirection:"row"},text:{flexGrow:1,paddingLeft:"4px",lineHeight:1.5,overflowX:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",textAlign:"left",textTransform:"none"},textInput:{padding:0},optionIcon:{height:"36px",width:"36px"}})}))((function(e){var t=Object(o.useState)(!1),n=Object(S.a)(t,2),a=n[0],r=n[1],i=function(t){r(!1),void 0!==e.onRename&&e.onRename(t.currentTarget.value)},c=l.a.createElement(l.a.Fragment,null,e.icon,a?l.a.createElement(W.a,{className:e.classes.text,inputProps:{className:e.classes.textInput},autoFocus:!0,type:"text",defaultValue:e.label,onBlur:i,onKeyDown:function(e){e.keyCode===B.ENTER&&i(e)}}):l.a.createElement(M.a,{className:e.classes.text},e.label)),s={className:e.classes.folderButton,children:c},u=!e.onClick&&!e.onRename||a?l.a.createElement("div",s):l.a.createElement(R.a,Object.assign({onClick:e.onClick?e.onClick:function(){return r(!0)}},s));return l.a.createElement("div",{className:e.classes.container},u,e.onClick&&e.onRename?l.a.createElement(I.a,{className:e.classes.optionIcon,onClick:function(){return r(!0)}},l.a.createElement(_.a,null)):null,e.onDelete?l.a.createElement(I.a,{className:e.classes.optionIcon,onClick:e.onDelete},l.a.createElement(G.a,null)):null)}));var X=function(e){return l.a.createElement(J,{icon:l.a.createElement(H.a,{style:{color:v(e.data.getDocumentState())}}),label:e.label||e.data.name,onClick:e.onClick,onRename:e.onRename,onDelete:e.onDelete})},Y=n(113),z=n(114);var K=function(e){if(null===e.data)return null;var t,n=(t=e.data).getApproved()?"green":y(t,a.Rejected)>0?"red":0===y(t,a.None)?"gray":"black",r=e.data.isOpen;return l.a.createElement(J,{icon:r?l.a.createElement(Y.a,{style:{color:n}}):l.a.createElement(z.a,{style:{color:n}}),label:e.data.name,onClick:e.onClick,onRename:e.onRename,onDelete:e.onDelete})};function q(e,t,n){return l.a.createElement(V.a,{title:e},l.a.createElement(M.a,{style:{color:v(n)}},y(t,n)))}var Q=Object(h.a)((function(e){return Object(p.a)({headerContainer:{display:"flex",flexDirection:"row"},parentLabel:{flexGrow:0},labelSeperator:{lineHeight:"36px"},legendContainer:{lineHeight:"36px",flexShrink:0,display:"ruby",alignContent:"center",padding:"0 8px"},icon:{height:"36px",width:"36px"}})}))((function(e){return l.a.createElement("div",{className:e.classes.headerContainer},null===e.data.parent?null:l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:e.classes.parentLabel},l.a.createElement(K,{data:e.data.parent,onClick:function(){return e.onSelect(e.data.parent)}})),l.a.createElement(M.a,{className:e.classes.labelSeperator},">>")),function(e){if(e.data instanceof D)return l.a.createElement(X,{data:e.data,onRename:e.onRename?function(t){return e.onRename(e.data,t)}:void 0});if(e.data instanceof F)return l.a.createElement(K,{data:e.data,onRename:e.onRename?function(t){return e.onRename(e.data,t)}:void 0})}(e),e.data instanceof F?function(e,t){var n=function(e){return E(e,(function(){return!0}))}(t);return l.a.createElement("div",{className:e.classes.legendContainer},q("Approved",t,a.Approved)," + ",q("Rejected",t,a.Rejected)," + ",q("Filled",t,a.Filled)," + ",q("Pending",t,a.None)," = ",l.a.createElement(V.a,{title:"Total"},l.a.createElement(M.a,{style:{color:"black"}},n)))}(e,e.data):null,e.data instanceof F&&2===e.data.getDepth()||void 0===e.onDelete?null:l.a.createElement(I.a,{className:e.classes.icon,onClick:function(){return e.onDelete(e.data)}},l.a.createElement(G.a,null)))}));var Z=Object(h.a)((function(e){return Object(p.a)({input:{width:"100%"},fieldValueContainer:{width:"100%",height:"24px",display:"flex",flexDirection:"row"},fieldValueLabel:{paddingLeft:"8px",flexGrow:1}})}))((function(e){return l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement(M.a,null,e.fieldName)),l.a.createElement("td",null,function(e){function t(t){e.onValueUpdate(t.value),e.onNameUpdate(t.name)}switch(e.fieldData.type){case r.Image:case r.Pdf:return l.a.createElement("div",{className:e.classes.fieldValueContainer},l.a.createElement(R.a,{variant:"outlined"},l.a.createElement("label",null,l.a.createElement(M.a,null,"Upload"),l.a.createElement("input",{type:"file",style:{display:"none"},accept:e.fieldData.type===r.Pdf?".pdf":"image/*",onChange:function(e){return(n=e.target.files[0],new Promise((function(e,t){var a=new FileReader;a.onload=function(t){var a=t.target.result;e({name:n.name,value:a})},a.readAsDataURL(n)}))).then(t);var n}}))),0===e.fieldData.value.length?l.a.createElement("div",{className:e.classes.fieldValueLabel}):l.a.createElement("a",{className:e.classes.fieldValueLabel,href:e.fieldData.value,download:e.fieldData.name},l.a.createElement(M.a,null,e.fieldData.name)));default:return l.a.createElement(W.a,{className:e.classes.input,value:e.fieldData.value||"",onChange:function(t){return e.onValueUpdate(t.currentTarget.value)}})}}(e)))})),$=function(e){function t(){var e,n;Object(d.a)(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(n=Object(m.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(i)))).setDocumentFieldValue=function(e,t){e.value=t,n.props.onUpdate()},n.setDocumentFieldName=function(e,t){e.type!==r.Pdf&&e.type!==r.Image||(e.name=t,n.props.onUpdate())},n.setDocumentState=function(e){n.props.data.setDocumentState(e),n.props.onUpdate()},n}return Object(g.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){var e=this,t=this.props.data.getDocumentState(),n=t!==a.None&&t!==a.Filled,r=this.props.user.userType===b.Contractor;return l.a.createElement("div",{className:this.props.classes.container},l.a.createElement(Q,{data:this.props.data,onDelete:r?void 0:this.props.onDelete,onSelect:this.props.onSelect,onRename:r?void 0:this.props.onRename}),n||r?null:l.a.createElement(R.a,{onClick:function(){return e.setDocumentState(a.Approved)}},"Approve"),n||r?null:l.a.createElement(R.a,{onClick:function(){return e.setDocumentState(a.Rejected)}},"Reject"),!n||r?null:l.a.createElement(R.a,{onClick:function(){return e.setDocumentState(a.None)}},"Reset"),l.a.createElement("div",{className:this.props.classes.tableContainer},l.a.createElement(A.a,{className:this.props.classes.table},l.a.createElement("colgroup",null,l.a.createElement("col",{width:"300px"}),l.a.createElement("col",{width:"100%"})),l.a.createElement(L.a,null,Object.entries(this.props.data.fields).map((function(t,n){var a=Object(S.a)(t,2),r=a[0],i=a[1];return l.a.createElement(Z,{key:n,fieldName:r,fieldData:i,onValueUpdate:function(t){return e.setDocumentFieldValue(i,t)},onNameUpdate:function(t){return e.setDocumentFieldName(i,t)}})}))))))}}]),t}(l.a.Component),ee=Object(h.a)((function(e){return Object(p.a)({container:{width:"100%",height:"100%",overflow:"hidden"},tableContainer:{height:"100%",overflowY:"scroll",scrollbarWidth:"thin"},table:{width:"100%",tableLayout:"fixed",border:"solid transparent 16px"}})}))($),te=n(60),ne=n(122),ae=n(116);var re=function(e){return l.a.createElement("div",{style:{paddingLeft:"".concat(24*e.depth,"px")}},e.children)};var ie=Object(h.a)((function(e){return Object(p.a)({headerContainer:{display:"flex",flexDirection:"row"},userTitleLabel:{padding:"8px"},userContainer:{width:"100%",height:"36px",overflowX:"hidden",display:"flex",flexDirection:"row"},userText:{flexGrow:1,paddingLeft:"4px",lineHeight:1.5,overflowX:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",textAlign:"left",textTransform:"none"},userDeleteIcon:{height:"36px",width:"36px"},parentLabel:{flexGrow:0},labelSeperator:{lineHeight:"36px"}})}))((function(e){var t=e.data.children,n=e.data.getDepth(),a=e.user.userType===b.Contractor;return 0===n&&(t=t.filter((function(t){return t instanceof F&&t.getUsers().has(e.user)}))),l.a.createElement("div",null,l.a.createElement(Q,{data:e.data,onDelete:a||0===n?void 0:e.onDeleteFolder,onSelect:e.onSelect,onRename:a||0===n?void 0:e.onRenameFolder}),t.map((function(t,n){return t instanceof D?l.a.createElement(re,{depth:1,key:n},l.a.createElement(X,{data:t,onClick:function(){return e.onSelect(t)},onRename:a?void 0:function(n){return e.onRenameDocument(t,n)},onDelete:a?void 0:function(){return e.onDeleteDocument(t)}})):l.a.createElement(re,{depth:1,key:n},l.a.createElement(K,{data:t,onClick:function(){return e.onSelect(t)},onRename:a||0!==e.data.getDepth()?void 0:function(n){return e.onRenameFolder(t,n)},onDelete:a||1===e.data.getDepth()?void 0:function(){return e.onDeleteFolder(t)}}))})),a?null:l.a.createElement(re,{depth:1},function(e){var t=l.a.useState(null),n=Object(S.a)(t,2),a=n[0],r=n[1],i="New Document",o=[],c=function(t){return e.onCreateFolder(e.data,t)};switch(e.data.getDepth()){case 0:return l.a.createElement(R.a,{onClick:function(){return e.onCreateProject("New Project")}},l.a.createElement(ae.a,null),"New Project");case 1:return null;case 2:i="New Submission Document",o=["Air-Conditioning and Mechanical Ventilation (ACMV)","Fire Detection and Protection System","Plumbing and Sanitary System","Fuel Storage and Distribution System","Low Voltage System","High Voltage System"].filter((function(t){return void 0===e.data.children.find((function(e){return e.name===t}))}));break;case 3:var s={};(u=e.data.parent.name,d=e.data.name,U.folder(u).folder(d).children.filter((function(e){return e instanceof D}))).forEach((function(e){return s[e.name]=e})),o=Object.keys(s),c=function(t){return e.onCreateDocument(e.data,s[t])}}var u,d;if(0===o.length)return null;var m=function(){return r(null)},f=l.a.createElement(te.a,{anchorEl:a,keepMounted:!0,open:Boolean(a),onClose:m},o.map((function(e,t){return l.a.createElement(ne.a,{key:t,onClick:function(){c(e),m()}},e)})));return l.a.createElement(l.a.Fragment,null,l.a.createElement(R.a,{onClick:function(e){return r(e.currentTarget)},disabled:0===o.length},l.a.createElement(ae.a,null),i),f)}(e)),a?null:function(e){var t=l.a.useState(null),n=Object(S.a)(t,2),a=n[0],r=n[1];if(1!==e.data.getDepth())return null;var i=Object.values(N).filter((function(t){return!e.data.getUsers().has(t)})),o=function(){return r(null)},c=l.a.createElement(te.a,{anchorEl:a,keepMounted:!0,open:Boolean(a),onClose:o},i.map((function(t,n){return l.a.createElement(ne.a,{key:n,onClick:function(){e.onAddUser(e.data,t),o()}},t.name)})));return l.a.createElement(l.a.Fragment,null,l.a.createElement(M.a,{className:e.classes.userTitleLabel},"Users"),Array.from(e.data.getUsers()).map((function(t,n){return l.a.createElement(re,{depth:1,key:n},l.a.createElement("div",{className:e.classes.userContainer},l.a.createElement(M.a,{className:e.classes.userText},t.name),e.user===t?null:l.a.createElement(I.a,{className:e.classes.userDeleteIcon,onClick:function(){return e.onRemoveUser(e.data,t)}},l.a.createElement(G.a,null))))})),l.a.createElement(re,{depth:1},l.a.createElement(R.a,{onClick:function(e){return r(e.currentTarget)},disabled:0===i.length},l.a.createElement(ae.a,null),"Add User")),c)}(e))})),oe=n(117),le=function(e){function t(){var e,n;Object(d.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(m.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).onFolderClick=function(){n.props.data.toggleOpen(),n.forceUpdate(),n.props.onSelect(n.props.data)},n}return Object(g.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){var e=this,t=this.props.data.getDepth();if(1===t&&!this.props.data.getUsers().has(this.props.user))return null;var n=this.props.data.isOpen;return l.a.createElement(l.a.Fragment,null,l.a.createElement(re,{depth:t,key:"".concat(t,"_-1")},l.a.createElement("div",{className:this.props.classes.headerContainer},l.a.createElement(K,{data:this.props.data,onClick:this.onFolderClick}),0!==t?null:l.a.createElement(I.a,{className:this.props.classes.logoutButton,onClick:this.props.onLogout},l.a.createElement(oe.a,null)))),n?this.props.data.children.map((function(n,a){return n instanceof F?l.a.createElement(ce,{key:"".concat(t,"_").concat(a),data:n,user:e.props.user,onSelect:e.props.onSelect}):l.a.createElement(re,{key:"".concat(t,"_").concat(a),depth:t+1},l.a.createElement(X,{data:n,onClick:function(){return e.props.onSelect(n)}}))})):null)}}]),t}(l.a.Component),ce=Object(h.a)((function(e){return Object(p.a)({headerContainer:{display:"flex",flexDirection:"row"},logoutButton:{width:"36px",height:"36px"}})}))(le);var se=Object(h.a)((function(e){return Object(p.a)({container:{width:"100%",height:"100%",display:"flex",flexDirection:"row"},foldertree:{width:"300px",height:"100%",flexGrow:0,overflowY:"scroll",scrollbarWidth:"thin"},body:{width:0,flexGrow:1}})}))((function(e){var t=null;return e.selected instanceof F?t=l.a.createElement(ie,{data:e.selected,user:e.user,onSelect:e.onSelect,onCreateProject:e.createProject,onCreateFolder:e.addFolderToFolder,onCreateDocument:e.addDocumentToFolder,onRenameDocument:e.rename,onDeleteDocument:e.deleteDocument,onDeleteFolder:e.deleteFolder,onRenameFolder:e.rename,onAddUser:e.addUser,onRemoveUser:e.removeUser}):e.selected instanceof D&&(t=l.a.createElement(ee,{data:e.selected,user:e.user,onDelete:e.deleteDocument,onUpdate:e.onDocumentUpdate,onSelect:e.onSelect,onRename:e.rename})),l.a.createElement("div",{className:e.classes.container},l.a.createElement("div",{className:e.classes.foldertree},l.a.createElement(ce,{data:e.root,user:e.user,onSelect:e.onSelect,onLogout:e.onLogout})),l.a.createElement("div",{className:e.classes.body},t))})),ue=n(119),de=n(118),me=Object(h.a)((function(e){return Object(p.a)({container:{height:"100%",width:"100%",margin:"auto",display:"flex",flexDirection:"column",alignItems:"center",verticalAlign:"middle"},padDiv:{height:0,flexGrow:1},formContainer:{display:"flex",flexDirection:"column"},title:{textAlign:"center"}})}))((function(e){var t=Object(o.useState)(""),n=Object(S.a)(t,2),a=n[0],r=n[1],i=Object(o.useState)(""),c=Object(S.a)(i,2),s=c[0],u=c[1],d=Object(o.useState)(!1),m=Object(S.a)(d,2),f=m[0],g=m[1];return l.a.createElement("div",{className:e.classes.container},l.a.createElement("div",{className:e.classes.padDiv}),l.a.createElement("div",{className:e.classes.formContainer},l.a.createElement(M.a,{className:e.classes.title,variant:"h2"},"BI App"),l.a.createElement(ue.a,{label:"Username",margin:"normal",variant:"outlined",value:a,onChange:function(e){return r(e.currentTarget.value)}}),l.a.createElement(ue.a,{label:"Password",type:"password",autoComplete:"current-password",margin:"normal",variant:"outlined",value:s,onChange:function(e){return u(e.currentTarget.value)}}),l.a.createElement(de.a,{variant:"extended",size:"large",color:f?"secondary":"primary",onClick:function(){e.onLogin(a,s)||(r(""),u(""),g(!0))}},"Login")),l.a.createElement("div",{className:e.classes.padDiv}))})),fe=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(m.a)(this,Object(f.a)(t).call(this,e))).componentDidMount=function(){},n.doLogin=function(e,t){var a=N[e];return void 0!==a&&(n.setState((function(e){var t=function(e){var t=localStorage.getItem("data");if(null!==t)return j(JSON.parse(t));var n=new F(e),a=O("Project 1",P,0);return n.addChild(a),a.addUser(N.BI_1),n}(a.name);return t.name=a.name,{user:a,root:t}})),!0)},n.doLogout=function(){n.setState({user:null,root:new F(""),selected:null})},n.selectDocument=function(e){n.setState({selected:e},n.forceUpdate)},n.renameDocument=function(e,t){e.name=t,n.onDocumentUpdate()},n.createProject=function(e){var t=new F(e);t.addChild(new F("Materials")),t.addChild(new F("Design")),t.addChild(new F("T&C")),t.addUser(n.state.user),n.state.root.addChild(t),n.onDocumentUpdate()},n.addFolderToFolder=function(e,t){e.addChild(new F(t)),n.onDocumentUpdate()},n.addDocumentToFolder=function(e,t){!function(e,t){var n={};Object.entries(e.fields).forEach((function(e){var t=Object(S.a)(e,2),a=t[0],r=t[1];n[a]=C(r.type)})),new D(e.name,t,a.None,n)}(t,e),n.onDocumentUpdate()},n.deleteFolder=function(e){e.delete(),n.setState((function(t){return t.selected===e?{selected:null}:null}),n.onDocumentUpdate)},n.deleteDocument=function(e){e.delete(),n.setState((function(t){return t.selected===e?{selected:null}:null}),n.onDocumentUpdate)},n.addUser=function(e,t){e.getUsers().has(t)||(e.addUser(t),n.onDocumentUpdate())},n.removeUser=function(e,t){e.getUsers().has(t)&&(e.removeUser(t),n.onDocumentUpdate())},n.onDocumentUpdate=function(){!function(e){var t=JSON.stringify(k(e));localStorage.setItem("data",t)}(n.state.root),n.forceUpdate()},n.render=function(){return l.a.createElement("div",{className:n.props.classes.container},null===n.state.user?l.a.createElement(me,{onLogin:n.doLogin}):l.a.createElement(se,{root:n.state.root,user:n.state.user,selected:n.state.selected,onSelect:n.selectDocument,rename:n.renameDocument,createProject:n.createProject,addFolderToFolder:n.addFolderToFolder,addDocumentToFolder:n.addDocumentToFolder,deleteFolder:n.deleteFolder,deleteDocument:n.deleteDocument,addUser:n.addUser,removeUser:n.removeUser,onDocumentUpdate:n.onDocumentUpdate,onLogout:n.doLogout}))},n.state={user:null,root:new F(""),selected:null},n}return Object(g.a)(t,e),t}(l.a.Component),ge=Object(h.a)((function(e){return Object(p.a)({container:{display:"flex",flexDirection:"row",height:"100vh"}})}))(fe);Object(i.a)(),s.a.render(l.a.createElement(u.a,null,l.a.createElement(ge,null)),document.getElementById("root"))}},[[70,1,2]]]);
//# sourceMappingURL=main.335829e0.chunk.js.map